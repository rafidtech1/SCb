<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCB - Live Cricket Scoreboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- ========================================= -->
    <!-- OBS AREA (NO UI CHANGE - STRICTLY KEPT)   -->
    <!-- ========================================= -->
    <div id="obs-area">
        <div class="logo-box left-logo">
            <img id="disp-teamA-logo" src="" alt="" class="hidden">
        </div>

        <div class="overlay-bar">
            <!-- BATTING -->
            <div class="wing batting-wing">
                <div class="player-row active-striker" id="p1-row">
                    <div class="icon-spot"><i class="fas fa-baseball-bat-ball" id="p1-icon"></i></div>
                    <div class="name" id="disp-p1-name">STRIKER</div>
                    <div class="stats">
                        <span class="runs" id="disp-p1-runs">0</span>
                        <span class="balls" id="disp-p1-balls">0</span>
                    </div>
                </div>
                <div class="player-row" id="p2-row">
                    <div class="icon-spot"><i class="fas fa-baseball-bat-ball hidden" id="p2-icon"></i></div>
                    <div class="name" id="disp-p2-name">NON-STRIKER</div>
                    <div class="stats">
                        <span class="runs" id="disp-p2-runs">0</span>
                        <span class="balls" id="disp-p2-balls">0</span>
                    </div>
                </div>
            </div>

            <!-- CENTER -->
            <div class="center-stage">
                <div class="vs-text">
                    <span id="disp-teamA-code">TEA</span> <span class="vs">vs</span> <span id="disp-teamB-code">TEB</span>
                </div>
                <div class="main-score-pill">
                    <span id="disp-runs">0</span>-<span id="disp-wickets">0</span>
                </div>
                <div class="overs-text">
                    <span id="disp-overs">0.0</span> OVERS
                </div>
                <div class="rr-text">
                    RUN RATE <span id="disp-crr">0.00</span>
                </div>
            </div>

            <!-- BOWLING -->
            <div class="wing bowling-wing">
                <div class="bowler-top">
                    <div class="bowler-name" id="disp-bowler-name">BOWLER</div>
                </div>
                <div class="ball-grid" id="disp-balls-container"></div>
            </div>
        </div>

        <div class="logo-box right-logo">
            <img id="disp-teamB-logo" src="" alt="" class="hidden">
        </div>
    </div>

    <!-- ========================================= -->
    <!-- CONTROL PANEL (UPDATED FEATURES)          -->
    <!-- ========================================= -->
    <div class="control-panel">
        <div class="cp-header">
            <h3>üèè SCB Operator Panel</h3>
            <div class="action-buttons">
                <button onclick="resetMatch()" class="btn-reset" title="Ctrl+R">‚ö†Ô∏è Reset Match</button>
                <button onclick="swapTeams()" class="btn-swap">Swap Teams üîÅ</button>
                <button onclick="undo()" class="btn-undo" title="Ctrl+Z">‚Ü© Undo Ball</button>
                <button onclick="manualUpdate()" class="btn-update">Update (Enter)</button>
            </div>
        </div>

        <div class="cp-grid">
            <!-- Match Info -->
            <div class="group full">
                <h4>Match Info (Optional)</h4>
                <div class="row">
                    <input type="text" id="in-match-title" placeholder="Tournament Name / Match Title">
                    <input type="text" id="in-toss-result" placeholder="Toss Info (e.g. BAN elected to bat)">
                </div>
            </div>

            <!-- Teams -->
            <div class="group">
                <h4>Teams</h4>
                <input type="text" id="in-teamA-code" placeholder="Team A Code (BAN)">
                <input type="file" id="in-teamA-logo" accept="image/*">
                <hr>
                <input type="text" id="in-teamB-code" placeholder="Team B Code (IND)">
                <input type="file" id="in-teamB-logo" accept="image/*">
            </div>

            <!-- Score -->
            <div class="group">
                <h4>Match Score</h4>
                <div class="row">
                    <input type="number" id="in-runs" class="input-focus-target" data-key="r" placeholder="Runs (Shortcut: R)">
                    <input type="number" id="in-wickets" class="input-focus-target" data-key="w" placeholder="Wkts (Shortcut: W)">
                </div>
                <div class="row">
                    <!-- Note: Overs are auto-calc, but editable -->
                    <input type="number" id="in-overs" class="input-focus-target" data-key="o" placeholder="Overs (Shortcut: O)" step="0.1">
                    <input type="number" id="in-crr" placeholder="CRR (Auto)" step="0.01" readonly>
                </div>
                <div class="row">
                     <!-- Total Legal Balls (Hidden helper for calculations) -->
                     <input type="hidden" id="in-total-balls" value="0">
                </div>
            </div>

            <!-- Batters -->
            <div class="group">
                <h4>Batting</h4>
                <div class="row">
                    <input type="radio" name="striker" value="p1" checked onchange="manualUpdate()"> Striker
                </div>
                <input type="text" id="in-p1-name" placeholder="Batter 1 Name">
                <div class="row">
                    <input type="number" id="in-p1-runs" placeholder="Runs">
                    <input type="number" id="in-p1-balls" placeholder="Balls">
                </div>
                <hr>
                <div class="row">
                    <input type="radio" name="striker" value="p2" onchange="manualUpdate()"> Striker
                </div>
                <input type="text" id="in-p2-name" placeholder="Batter 2 Name">
                <div class="row">
                    <input type="number" id="in-p2-runs" placeholder="Runs">
                    <input type="number" id="in-p2-balls" placeholder="Balls">
                </div>
            </div>

            <!-- Bowler & Balls -->
            <div class="group full">
                <h4>Bowling & Ball-by-Ball</h4>
                <input type="text" id="in-bowler-name" placeholder="Bowler Name">
                
                <div class="ball-input">
                    <input type="text" id="in-ball-val" class="input-focus-target" data-key="b" placeholder="Value (1, 4, W, WD...) [Shortcut: B]" onkeypress="handleBallInputEnter(event)">
                    <button onclick="processBallInput()">Add Ball</button>
                </div>

                <div class="quick-btns">
                    <button onclick="addBall(0)">0</button>
                    <button onclick="addBall(1)">1</button>
                    <button onclick="addBall(2)">2</button>
                    <button onclick="addBall(3)">3</button>
                    <button onclick="addBall(4)">4</button>
                    <button onclick="addBall(6)">6</button>
                    <button onclick="addBall('W')" style="background:#d63031;">OUT (W)</button>
                    <button onclick="addBall('WD')" style="background:#e17055;">WD</button>
                    <button onclick="addBall('NB')" style="background:#e17055;">NB</button>
                </div>
            </div>
        </div>
        <div style="margin-top:10px; font-size: 0.8rem; color: #777;">
            Shortcuts: <b>Enter</b>=Update | <b>Ctrl+Z</b>=Undo | <b>Ctrl+R</b>=Reset | <b>R</b>=Runs | <b>W</b>=Wkts | <b>O</b>=Overs | <b>B</b>=Ball Input
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>